(this["webpackJsonpgipharg-project"]=this["webpackJsonpgipharg-project"]||[]).push([[0],{16:function(e,t,n){},18:function(e,t,n){},19:function(e,t,n){},21:function(e,t,n){},22:function(e,t,n){},23:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(9),s=n.n(c),i=(n(16),n(11)),a=n(2),u=n(0),o=Object(r.createContext)(),l=function(e){var t=e.children,n=Object(r.useState)(JSON.parse(localStorage.getItem("favourites"))||[]),c=Object(a.a)(n,2),s=c[0],l=c[1];Object(r.useEffect)((function(){localStorage.setItem("favourites",JSON.stringify(s))}),[s]);var j={favourites:s,isOnFavourite:function(e){return null===s||void 0===s?void 0:s.some((function(t){return(null===t||void 0===t?void 0:t.id)===e}))},addToFavourites:function(e){l([].concat(Object(i.a)(s),[e]))},removeFromFavourites:function(e){l(s.filter((function(t){return t.id!==e})))}};return Object(u.jsx)(o.Provider,{value:j,children:t})},j=o,b=(n(18),function(e){var t=e.id,n=e.gif,c=Object(r.useContext)(j),s=c.isOnFavourite,i=c.addToFavourites,a=c.removeFromFavourites;return Object(u.jsx)("div",{className:"gif__buttons",children:s(t)?Object(u.jsx)("button",{onClick:function(){return a(t)},className:"gif__favourite\r favourite__button favourite__button--remove\r ",children:Object(u.jsx)("span",{class:"material-icons",children:"remove_circle_outline"})}):Object(u.jsx)("button",{onClick:function(){return i(n)},className:"gif__favourite  favourite__button",children:Object(u.jsx)("span",{class:"material-icons",children:"star_border"})})})}),f=function(e){var t=e.gif,n=t.id,r=t.username,c=t.images,s=t.embed_url,i=c?c.downsized.url:"";return Object(u.jsxs)("div",{className:"gif",children:[Object(u.jsxs)("div",{className:"gif__image-container",children:[Object(u.jsx)("a",{className:"gif__effect",href:s,rel:"noreferrer",target:"_blank",children:"See More"}),Object(u.jsx)("img",{className:"gif__image",src:i,alt:r})]}),Object(u.jsx)(b,{id:n,gif:t})]})},d=function(e){var t=e.favourites;return Object(u.jsx)("ul",{className:"favourites__list",children:null===t||void 0===t?void 0:t.map((function(e){return Object(u.jsx)(f,{gif:e},e.id)}))})},v=(n(19),function(){var e=Object(r.useContext)(j).favourites;return Object(u.jsx)("div",{className:"favourites",children:e.length>0&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h1",{className:"favourites__title",children:"Favourites"}),Object(u.jsx)(d,{favourites:e}),Object(u.jsx)("hr",{})]})})}),h=n(5),O=n(7),m=n(8),x=n.n(m),_=n(10),g=function(){var e=Object(_.a)(x.a.mark((function e(t){var n,r,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t+"&api_key=NTVLYSitef89MlK7fHebEyNzZAkCEEuz",e.prev=1,e.next=4,fetch(n);case 4:return r=e.sent,e.next=7,r.json();case 7:return c=e.sent,e.abrupt("return",c);case 11:throw e.prev=11,e.t0=e.catch(1),e.t0;case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),p=(n(21),function(e){var t=e.results;return Object(u.jsx)("div",{children:(null===t||void 0===t?void 0:t.length)>0&&Object(u.jsxs)("div",{className:"search__results",children:[Object(u.jsx)("h2",{className:"search__results-title",children:"Results :"}),Object(u.jsx)("ul",{className:"search__list",children:null===t||void 0===t?void 0:t.map((function(e){return Object(u.jsx)(f,{gif:e},e.id)}))})]})})}),N=function(){var e=Object(r.useState)([]),t=Object(a.a)(e,2),n=t[0],c=t[1],s=Object(r.useRef)(!0),i=function(e){var t=Object(r.useState)(e),n=Object(a.a)(t,2),c=n[0],s=n[1];return[c,function(e){var t=e.target;s(Object(O.a)(Object(O.a)({},c),{},Object(h.a)({},t.name,t.value)))},function(){s(e)}]}({search_box:"",amount:"10"}),o=Object(a.a)(i,3),l=o[0],j=o[1],b=o[2],f=l.search_box,d=l.amount;return Object(r.useEffect)((function(){return s.current=!0,function(){s.current=!1}}),[]),Object(u.jsxs)("nav",{className:"navbar",children:[Object(u.jsx)("h2",{children:"GIPHARG"}),Object(u.jsxs)("div",{className:"search",children:[Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t="https://api.giphy.com/v1/gifs/search?q=".concat(f,"&limit=").concat(d);g(t).then((function(e){s.current&&c(e.data)})).catch((function(e){return console.error(e)}))},className:"search__form",action:"",children:[Object(u.jsx)("input",{onChange:j,value:f,type:"text",name:"search_box",id:"search_box",placeholder:"example: cheeseburgers"}),Object(u.jsx)("input",{max:"4999",min:"10",name:"amount",id:"amount",type:"number",value:d,onChange:j}),Object(u.jsx)("button",{className:"search__button material-icons",children:"search"}),Object(u.jsx)("button",{onClick:function(){b(),c([])},className:"clear__button material-icons",children:"clear"})]}),Object(u.jsx)(p,{results:n})]})]})},S=function(e){var t=e.trendings;return Object(u.jsx)("div",{children:Object(u.jsx)("ul",{className:"trendings__list",children:null===t||void 0===t?void 0:t.map((function(e){return Object(u.jsx)(f,{gif:e},e.id)}))})})},F=(n(22),function(){var e=Object(r.useState)([]),t=Object(a.a)(e,2),n=t[0],c=t[1],s=Object(r.useRef)(!0);return Object(r.useEffect)((function(){return g("https://api.giphy.com/v1/gifs/trending?limit=10").then((function(e){var t=e.data;s.current&&c(t)})),function(){s.current=!1}}),[]),Object(u.jsxs)("div",{className:"trendings",children:[Object(u.jsx)("h1",{className:"trendings__title",children:"Trendings"}),Object(u.jsx)(S,{trendings:n}),Object(u.jsx)("hr",{})]})});var k=function(){return Object(u.jsx)(l,{children:Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(N,{}),Object(u.jsx)("hr",{}),Object(u.jsx)(F,{}),Object(u.jsx)(v,{})]})})};s.a.render(Object(u.jsx)(k,{}),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.a216b05f.chunk.js.map